from kivy.app import App
from kivy.uix.widget import Widget
from kivy.uix.label import Label
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import StringProperty
from kivy.properties import ObjectProperty
from kivy.lang import Builder
from numpad import Numpad, NumpadInput

# so we can easliy import numpad into the main file
#Builder.load_file('numpad.kv')
#Builder.load_file('pulseinterface.kv')

class Pulse():
    def __init__(self,**kwargs): 
        self.fwhm = 200e-15 #[s]
        self.bandwidth = 200e-9 #[m]
        self.time_bandwidth_product = 0.315 #0.44 for gaussian
        self.c0 = 299792458;
        self.lam_center = 1.55e-6;

    def calculate_fwhm(self):        
        self.fwhm = self.time_bandwidth_product* \
                          self.lam_center**2/ \
                    (self.c0*self.bandwidth)

    def calculate_bandwidth(self):    
        self.bandwidth = self.time_bandwidth_product* \
                          self.lam_center**2/ \
                          (self.c0*self.fwhm) 



class PulseInterface(Widget):
    numpad = ObjectProperty()
    pulse = ObjectProperty()

            
class PulseInterfaceApp(App):
    def build(self):
        self.root = BoxLayout()
        self.pulse = Pulse()
        self.root.orientation = 'vertical'
        self.numpad = Numpad()
        self.pulse_interface = PulseInterface(numpad=self.numpad,\
                                              pulse = self.pulse)
        self.root.add_widget(self.pulse_interface)   
        #self.root.add_widget(self.numpad)
        
     
if __name__ == '__main__':  
    PulseInterfaceApp().run()
